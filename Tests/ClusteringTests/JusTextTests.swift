import Nimble
import XCTest
import Foundation
import NaturalLanguage
@testable import Clustering

class JustTextTests: XCTestCase {
    var testBlocks: [String]!
    var jusText: JusText!

    override func setUp() {
    testBlocks = ["Federer serving at 2009 Wimbledon", "Olympic medal record", "Roger Federer (German: [ˈrɔdʒər ˈfeːdərər]; born 8 August 1981) is a Swiss professional tennis player. He is ranked No. 15 in the world by the Association of Tennis Professionals (ATP). He has won 20 Grand Slam men\'s singles titles, an all-time record shared with Rafael Nadal and Novak Djokovic. Federer has been world No. 1 in the ATP rankings a total of 310 weeks – including a record 237 consecutive weeks – and has finished as the year-end No. 1 five times. Federer has won 103 ATP singles titles, the second most of all-time behind Jimmy Connors, including a record six ATP Finals.", "Federer has played in an era where he dominated men\'s tennis together with Rafael Nadal and Novak Djokovic, who have been collectively referred to as the Big Three and are widely considered three of the greatest tennis players of all-time.[c] A Wimbledon junior champion in 1998, Federer won his first Grand Slam singles title at Wimbledon in 2003 at age 21. In 2004, he won three out of the four major singles titles and the ATP Finals,[d] a feat he repeated in 2006 and 2007. From 2005 to 2010, Federer made 18 out of 19 major singles finals. During this span, he won his fifth consecutive titles at both Wimbledon and the US Open. He completed the career Grand Slam at the 2009 French Open after three previous runner-ups to Nadal, his main rival up until 2010. At age 27, he also surpassed Pete Sampras\'s then-record of 14 Grand Slam men\'s singles titles at Wimbledon in 2009.", "Although Federer remained in the top 3 through most of the 2010s, the success of Djokovic and Nadal in particular ended his dominance over grass and hard courts. From mid-2010 through the end of 2016, he only won one major title. During this period, Federer and Stan Wawrinka led the Switzerland Davis Cup team to their first title in 2014, adding to the gold medal they won together in doubles at the 2008 Beijing Olympics. Federer also has a silver medal in singles from the 2012 London Olympics, where he finished runner-up to Andy Murray. After taking half a year off in late 2016 to recover from knee surgery, Federer had a renaissance at the majors. He won three more Grand Slam singles titles over the next two years, including the 2017 Australian Open over Nadal and a men\'s singles record eighth Wimbledon title later in 2017. He also became the oldest ATP world No. 1 in 2018 at age 36.", "A versatile all-court player, Federer\'s perceived effortlessness has made him highly popular among tennis fans. Originally lacking self-control as a junior, Federer transformed his on-court demeanor to become well-liked for his general graciousness, winning the Stefan Edberg Sportsmanship Award 13 times. He has also won the Laureus World Sportsman of the Year award a record five times. Outside of competing, he played an instrumental role in the creation of the Laver Cup team competition. Federer is also an active philanthropist. He established the Roger Federer Foundation, which targets impoverished children in southern Africa, and has raised funds in part through the Match for Africa exhibition series. Federer is routinely one of the top ten highest-paid athletes in any sport and ranked first among all athletes with $100 million in endorsement income in 2020.[4]", "Roger Federer was born on 8 August 1981 in Basel, Switzerland.[5] His Swiss father, Robert Federer, is from Berneck in the Canton of St. Gallen, and his Afrikaner mother, Lynette Federer (née Durand), is from Kempton Park, Gauteng, in South Africa.[6] He has one sibling, his older sister, Diana,[7] who is the mother of a set of twins.[8] Since Federer’s mother is South African, he holds both Swiss and South African citizenship.[9] He grew up in nearby Birsfelden, Riehen, and then Münchenstein, close to the French and German borders, and speaks Swiss German, Standard German, English and French fluently as well as functional Italian and Swedish. Swiss German is his native language.[5][10][11][12] Federer served as a ball boy at his hometown Basel tournament, the Swiss Indoors, in 1992 and 1993.[10][13]", "Like all male Swiss citizens, Federer was subject to compulsory military service in the Swiss Armed Forces. However, in 2003 he was ruled \"unsuitable\" and was subsequently not required to fulfill his military obligation.[14] Instead, he served in the civil protection force and was required to pay 3% of his taxable income as an alternative.[15] He grew up supporting FC Basel and the Swiss national football team.[16] Federer also credits his hand-eye coordination to the wide range of sports he played as a child, including badminton and basketball.[17]", "Federer is married to former Women\'s Tennis Association player Miroslava Federer (née Vavrinec), whom he met while they were both competing for Switzerland at the 2000 Sydney Olympics. Usually called Mirka, she retired from the tour in 2002 because of a foot injury.[18] They were married at Wenkenhof Villa in Riehen near Basel on 11 April 2009, surrounded by a small group of close friends and family.[19] In 2009, Mirka gave birth to identical twin girls.[20] The Federers had another pair of identical twins in 2014, this time boys.[21][22]", "Federer played his first junior match in 1996 at the age of 14 at a grade 2 tournament in Switzerland. His main accomplishments as a junior player came at Wimbledon in 1998, where he won both the boys\' singles final over Irakli Labadze,[23] and in doubles teamed with Olivier Rochus, defeating the team of Michaël Llodra and Andy Ram.[24] In addition, he reached the US Open Junior final in 1998, losing to David Nalbandian. Federer won four ITF junior singles tournaments in his career, including the prestigious Orange Bowl, where he defeated Guillermo Coria in the final.[25] He ended 1998 with the No. 1 junior world ranking and was awarded ITF junior World Champion.[26] He ended his junior career at the end of 1998 with a high-ranking of No. 1 in singles and No. 7 in doubles (both attained on December 31, 1998) and a win-loss record of 78–20 in singles and 36–21 in doubles.[27]", "Junior Grand Slam results - Singles:", "Australian Open: SF (1998) French Open: 1R (1998) Wimbledon: W (1998) US Open: F (1998)", "Junior Grand Slam results - Doubles:", "Australian Open: SF (1998) French Open: 1R (1998) Wimbledon: W (1998) US Open: 1R (1998)", "Federer made his ATP debut at the 1998 Swiss Open Gstaad in his home country of Switzerland where he lost to Lucas Arnold Ker in the first round. Later that year, he won his first ATP match in Toulouse against Guillaume Raoux. He then got a wildcard into the 1998 Swiss Indoors where he lost in the first round to 4th seed and former world number 1 Andre Agassi. As of 2021, he is a 10-time champion of the tournament.", "Federer entered the top 100 ranking for the first time on 20 September 1999 and started at the 1999 Marseille Open defeating the reigning champion of the 1998 French Open, Spaniard Carlos Moyá. His first final came at the Marseille Open in 2000, where he lost to fellow Swiss Marc Rosset.[28] Federer won the 2001 Hopman Cup representing Switzerland, along with world No. 1 Martina Hingis.[29][30][31] The duo defeated the American pair of Monica Seles and Jan-Michael Gambill in the finals. Federer later said that his experience with Hingis \"definitely helped me to become the player I am today.\"[32]", "Federer\'s first singles win was at the 2001 Milan Indoor tournament, where he defeated Julien Boutter in the final.[28][33] Although he won his first title already in 1999 on the Challenger tour, winning the doubles event in Segovia, Spain with Dutchman Sander Groen, the final was played on Federer\'s 18th birthday. In 2001, Federer made his first Grand Slam quarterfinal at the French Open, losing to former world No. 2 and eventual finalist Alex Corretja. His run to the French quarterfinals launched him into the top 15 for the first time in his career.[34][35]", "His international breakthrough came at the 2001 Wimbledon Championships, where the 19-year-old Federer faced the four-time defending champion and all-time Grand Slam leader Pete Sampras. Federer beat the No. 1 seed in a five-set match to reach the quarterfinals.[36] In the quarters he faced Englishman Tim Henman, eventually losing in a fourth-set tiebreaker.[37]", "The first final he reached at the Masters level came at the 2002 Miami Masters event, where he lost to former and future No. 1 Andre Agassi on hard court.[38][39] Federer won his first Master Series event at the 2002 Hamburg Masters on clay, over Marat Safin; the victory put him in top 10 for the first time.[38][40] Federer made 10 singles finals between 1998 and 2002, of which he won four and lost six.[28][38][41][42][34] He also made six finals in doubles. He finished 2001 with an ATP ranking of No. 13, and 2002 was the first year he was ranked within the top 10, finishing at No. 6.[40]", "In 2003, Federer won his first Grand Slam singles title at Wimbledon, beating Andy Roddick in the semifinals and Mark Philippoussis in the final.[43][44] In August he had a chance to take over the No. 1 ranking for the first time from Andre Agassi if he made it to the Montreal final. However, he fell in the semifinals to Roddick, in a final-set tiebreaker, leaving him 120 points behind Agassi.[45] This, coupled with early losses to David Nalbandian at Cincinnati and the US Open, denied Federer the chance to become No. 1 for the duration of the season.[46]", "Federer won his first and to date only doubles Masters event in Miami with Max Mirnyi[47] and made it to one singles Masters event in Rome on clay, which he lost.[48][49] Federer made it to nine finals on the ATP Tour and won seven of them, including the 500 series events at Dubai and Vienna.[48] Lastly, Federer won the year-end championships over Andre Agassi, finishing the year as world No. 2, narrowly behind Andy Roddick by only 160 points.[48][50]", "During 2004, Federer won three Grand Slam singles titles for the first time in his career and became the first person to do so since Mats Wilander in 1988. His first major hard-court title came at the Australian Open over Marat Safin, thereby becoming the world No. 1 for the first time.[51] He then won his second Wimbledon crown over Andy Roddick.[52] Federer defeated the 2001 US Open champion, Lleyton Hewitt, at the US Open for his first title there.[53]", "Federer won three ATP Masters events, one was on clay in Hamburg, and the other two were on hard surfaces at Indian Wells and in Canada.[53] Federer took the ATP 500 series event at Dubai and wrapped up the year by winning the year-end championships for the second time.[53] He also won his first tournament on home soil by capturing the Swiss Open in Gstaad. His 11 singles titles were the most of any player in two decades, and his record of 74–6 was the best since Ivan Lendl in 1986.[54] He reached the year-end No. 1 ranking for the first time.[55]", "In 2005, Federer failed to reach the finals of the first two Grand Slam tournaments, losing the Australian Open semifinal to eventual champion Safin after holding match points, and the French Open semifinal to eventual champion Rafael Nadal.[56] However, Federer quickly reestablished his dominance on grass, winning the Wimbledon Championships over Andy Roddick.[57] At the US Open, Federer defeated Andre Agassi in the latter\'s last major final.[58][59]", "Federer also took four Masters wins: Indian Wells, Miami and Cincinnati on hard court, and Hamburg on clay.[58] The win in Miami was particularly noteworthy as it was the first final contested between Federer and Nadal. Federer recovered from two sets and a break down to take the final in five sets. Furthermore, Federer won two ATP 500 series events at Rotterdam and Dubai.[58] Federer lost the year-end championships to David Nalbandian in five sets while playing through a foot injury that sidelined him for almost the rest of the season after September.[60] He maintained his position as No. 1 for the entire season.[58]", "Federer won 11 singles titles, which ties his 2004 season. Federer\'s 81 match victories were the most since Pete Sampras in 1993, and his record of 81–4 (95.2%) remains the third-best winning percentage in the Open Era behind John McEnroe\'s 1984 and Jimmy Connors\'s 1974.[54]", "The 2006 season was statistically the best season of Federer\'s career. In November 2011, Stephen Tignor, chief editorial writer for Tennis.com, ranked Federer\'s 2006 season as statistically the second-best season of all time during the Open Era, behind Rod Laver\'s Grand Slam year of 1969.[61]", "", "Federer hits a forehand at the 2006 US Open, where he became the first man in history to achieve the Wimbledon-US Open double for three consecutive seasons.", "Federer won 12 singles titles (the most of any player since Thomas Muster in 1995 and John McEnroe in 1984) and had a match record of 92–5 (the most wins since Ivan Lendl in 1982). Federer reached the finals in an astounding 16 of the 17 tournaments he entered during the season.[62]", "In 2006, Federer won three Grand Slam singles titles and reached the final of the other, with the only loss coming against Nadal in the French Open.[62] This was Federer and Nadal\'s first meeting in a Grand Slam final. He was the first man to reach all four finals in a calendar year since Rod Laver in 1969. Federer defeated Nadal in the Wimbledon Championships final. In the Australian Open, Federer defeated Marcos Baghdatis,[63] and at the US Open, Federer defeated Roddick (2003 champion).[62] In addition, Federer made it to six Masters finals, winning four on hard surfaces and losing two on clay to Nadal. Federer, however, consistently pushed Nadal to the limit on clay throughout the season taking him to fourth-set tiebreakers in Monte-Carlo and Paris, and a thrilling match in Rome that went to a deciding fifth-set tiebreaker.[64]", "Federer won one ATP 500 series event in Tokyo and captured the year-end championships for the third time in his career, again finishing the year as world No. 1.[63] Federer only lost to two players during 2006, to Nadal four times in finals, and to 19-year-old Andy Murray in the second round of the 2006 Cincinnati Masters, in what was Federer\'s only defeat before reaching the final of a tournament that year.[65] Federer finished the season on a 29-match winning streak, as well as winning 48 of his last 49 matches after the French Open.[66]", "Near the end of the season he won his hometown tournament, the Swiss Indoors in Basel, Switzerland for the first time, having finished runner up in 2000 and 2001, and missing the tournament in 2004 and 2005 due to injuries.[67]", "In 2007, Federer reached all four Grand Slam singles finals, winning three of them again. He won the Australian Open without dropping a set, beating Fernando González in the final. This made him the first man in the 21st century to accomplish the feat, as Björn Borg at the 1980 French Open was the last to win a Grand Slam tournament without the loss of a set.[68] Federer had entered the year on a huge winning streak and after capturing his fourth Dubai crown Federer\'s winning streak stood at 41 matches, the longest of his career and only five shy of the record. Federer entered Indian Wells as the three-time defending champion, but his streak ended in controversy. He was defeated by an Argentine, Guillermo Cañas, who had failed a drug test for illegal doping.[69]", "Federer was called \"Darth Federer\" by fans and commentators at the 2007 US Open.", "This surprising first-round loss marked the first time he was defeated since August 2006, a period spanning over 7 months.[70]", "During the clay season, Federer\'s victory in the Hamburg Masters final was particularly impressive, as it snapped Nadal\'s 81-match winning streak on clay, an Open-era record. Federer turned the match around from a set down to sweep 12 of the final 14 games, including a final set bagel.[71] At the French Open, some anticipated that Federer could become the first man in almost 40 years to hold all four majors simultaneously, having just resoundingly defeated young rival Nadal on clay entering the tournament. However, in a repeat of the previous year Federer played a tough four-set final against Nadal, but was undone by going 1/17 on break-point chances.[72]", "At Wimbledon, Federer entered the tournament not only as the four-time defending champion, but also riding a 48-match winning streak on grass. Once again, he defeated Rafael Nadal for a second consecutive year in the final, this time in a thrilling five-set encounter that many analysts hailed as the greatest Wimbledon final since 1980. Victory at Wimbledon equaled him with Björn Borg for the record of five consecutive championships at the All England Club.[73]", "Federer reached the final in Montreal before playing a young and relatively unknown Serbian named Novak Djokovic. Djokovic proved his potential by beating the world No. 1 in a final-set tiebreaker upset. Federer rebounded in Cincinnati to capture his fifth title of the year. Federer entered the US Open as the three-time defending champion and faced Djokovic in the final. This time, Federer prevailed in a close straight-set match.[74] Victory in New York moved him ahead of Laver and Borg for third on the all-time list of major championship victories. Throughout the tournament, the American press labelled him Darth Federer for his all-black attire (which included tuxedo-striped shorts) and the tournament played The Imperial March from Star Wars when he was announced onto the court for each of his matches.[75] He closed out the year with victories in Basel and the Year End Championships in Shanghai.[76]", "He finished the season as the year-end No. 1 for the fourth year in a row, demonstrating his dominance, and during these four years he won 11 Grand Slam singles titles. After his phenomenal triple Grand Slam season yet again, Federer became the only player in history to win three majors in a year for three years (2004, 2006, 2007).[77][78][79][80] It was the third consecutive season that Federer held the No. 1 ranking for all 52 weeks of the year.[55]", "Federer\'s success in 2008 was severely hampered by a lingering bout of mononucleosis, which he suffered during the first half of the year.[81] At the end of the year he suffered a back injury.[82]", "In 2008, Federer captured one Grand Slam, a singles title at the US Open over Andy Murray.[83] Federer was defeated by Nadal in two Grand Slam finals, the French Open and Wimbledon, which was regarded as the best match of tennis history by many, when he was going for six straight wins to break Björn Borg\'s record. He came back from two sets down to force a fifth set, where he fell just two points from the title.[83] At the Australian Open, Federer lost in the semifinals to eventual winner Djokovic, which ended his record of 10 consecutive finals.[83] He lost twice in Masters finals on clay to Nadal, at Monte Carlo and Hamburg.[83] Federer captured three titles in 250-level events at Estoril, Halle, and Basel.[84][85][86]", "At the Olympic Games, Federer and Stan Wawrinka won the gold medal in doubles, after beating the Bryan brothers American team in the semifinals and the Swedish duo of Simon Aspelin and Thomas Johansson in the final.[87] However, Federer could reach only the quarterfinals in the singles draw, bowing out to then No. 8 James Blake, ceding his No. 1 ranking to Nadal after being at the top for a record 237 consecutive weeks.[88] He ended the year ranked No. 2.[89]", "Federer entered the 2009 season with 13 Grand Slams, only one behind Pete Sampras\' all-time record. The season began with a loss to Nadal in the final of the Australian Open in a hotly contested five-set match.[90] Federer struggled following the defeat in Melbourne and entered the clay season without a title.[91]", "Federer winning the 2009 French Open, and completing the career Grand Slam", "Federer\'s season turned around in the final Masters event of the clay season when he defeated Nadal on clay for only the second time to capture the Madrid Masters.[92] Federer entered the French Open with few predicting him to win the elusive Parisian title having lost to Nadal in the final weekend for the past four seasons. After Nadal\'s unexpected defeat to Robin Söderling, Federer became the overwhelming favorite. In his next match, he came from two sets and break point down in the third set to defeat Tommy Haas in five sets.[93] He also fought back from a two-sets-to-one deficit against a young Juan Martín del Potro to win a five setter in the semifinals.[94] In the final, he faced Söderling, and with straight sets victory, he finally captured the Coupe des Mousquetaires and career Grand Slam.[95] This victory also tied him with Pete Sampras for the most Grand Slam singles titles.[96][95]", "Federer turned his sights to the grass courts of Wimbledon, where he breezed his way up to the final.[97] In the championship match he faced long-time rival Andy Roddick in what was their eighth and final meeting at a Grand Slam. Roddick pushed Federer into a record-setting fifth set, which Federer claimed 16–14 to win his 15th Grand Slam singles title, breaking the all-time record of Pete Sampras.[98][99]", "Federer continued his summer run by winning his third title on the lightning-fast courts of the Cincinnati Masters, defeating Novak Djokovic in the final.[100] At the US Open he defeated Söderling in the quarters and Djokovic, for the third consecutive year, in the semifinals. On the penultimate point of the Djokovic match he hit what many consider to be the greatest shot of his career, a tweener winner, to set up match points.[101] Federer was defeated by del Potro in the final despite leading two sets to one and falling just two points from the title in the fourth set.[100]", "The 2009 season was perhaps the most historically relevant of Federer\'s career as he completed a career Grand Slam by winning his first French Open title and won a men\'s record fifteenth Grand Slam singles title at Wimbledon, surpassing Pete Sampras\'s mark of fourteen.[100] The Wimbledon final was also historic for being the longest Grand Slam final in terms of games played with Federer prevailing 16–14 in the fifth set.[99]", "Federer finished the season as the year-end No. 1 for the fifth time in his career.[102]", "Federer won a record 16th major at the 2010 Australian Open.", "Federer started the year with a win at the Australian Open,[103] where he defeated Andy Murray in the final, extending the Grand Slam singles record to sixteen titles and matching Andre Agassi\'s record of four Australian Open titles.[83] Since Wimbledon 2005 Federer had made 18 out of 19 finals in Grand Slam tournaments, a period of sustained excellence unparalleled in the Open Era. This tournament, however, marked the end of his dominance at the majors.[104]", "At the French Open, Federer won his 700th tour match and 150th tour match on clay.[103][105] However, he failed to reach a Grand Slam semifinal for the first time since the 2004 French Open,[106] losing to Söderling in the last 8 and relinquishing his No. 1 ranking,[103] having been just one week away from equalling Pete Sampras\'s record of 286 weeks as world No. 1. In a huge upset at Wimbledon, Federer lost in the last 8 again to Tomáš Berdych and fell to No. 3 in the rankings for the first time in 6 years and 8 months.[103][107][108]", "Towards the middle of July, Federer hired Pete Sampras\' old coach Paul Annacone on a trial basis to put his tennis game and career back on track.[109] At the 2010 US Open, Federer reached the semifinals, where he lost a five-set match to Novak Djokovic after holding two match points.[103] Federer made it to four Masters finals, prevailing at the Cincinnati Masters against Mardy Fish.[110]", "Federer finished the year in strong form, winning indoor titles at the Stockholm Open, Swiss Indoors, and the ATP Finals in London, which brought his tally to 66 career titles. Federer won the year-end championships in London by beating rival Rafael Nadal for his fifth title at the event.[111] He beat all contenders except Nadal in straight sets. It remains the only tournament in his career where Federer defeated all fellow members of the Big Four.[112] In 2010 Federer finished in the top two for the eighth consecutive season.[113]", "The year 2011 was a lean year for Federer, although great by most player\'s standards. He was defeated in straight sets in the semifinals of the 2011 Australian Open by eventual champion Novak Djokovic,[114] marking the first time since July 2003 that he did not hold any of the four major titles. In the French Open semifinals, Federer ended Djokovic\'s undefeated streak of 43 consecutive wins with a four-set victory.[115] Federer then lost in the final to Rafael Nadal.[116] At Wimbledon, Federer advanced to his 29th consecutive Grand Slam quarterfinal, losing to Jo-Wilfried Tsonga. It marked the first time in his career that he had lost a Grand Slam tournament match after winning the first two sets.[117]", "At the US Open, Federer lost in the semifinals to Novak Djokovic in five sets. In a repeat of previous year\'s semifinal event, Federer again squandered two match points on his own serve before losing after winning first two sets for second consecutive time in the year. The loss meant that it was the first time since 2002 that Federer had not won any of the four grand slam titles.[118]", "In September 2011, in a South African poll, Federer was voted the second most trusted and respected person in the world, next to Nelson Mandela.[119][120]", "Federer finished the season successfully in the indoor season, winning his last three tournaments of the year at the Swiss Indoors, Paris Masters, and ATP Finals, forming a 16 match winning streak. Federer finished the year ranked No. 3.[121]", "The 2012 season for Federer had his most match wins since 2006 and his highest winning percentage and number of titles won since 2007.[122]", "Federer reached the semifinal of the 2012 Australian Open, setting up a 27th career meeting with Nadal, a match he lost in four sets.[123] He then won the Rotterdam Open for the first time since 2005, defeating Juan Martín del Potro.[124] Federer played in the 2012 Dubai Tennis Championships, where he defeated Andy Murray in the final and won the championship title for the fifth time in his career.[125] Federer then moved on to the Indian Wells Masters, where he defeated Rafael Nadal in the semifinals, and John Isner in the final. Federer won the title for a record fourth time, and, in doing so, equalled Nadal\'s record of 19 ATP Masters titles.[126]", "Federer won a record 17th major, a record-equaling 7th Wimbledon, and returned to No. 1.", "Federer went on to compete at the Madrid Masters on the new blue clay surface, where he beat Tomáš Berdych in the final, thus regaining the No. 2 ranking from Rafael Nadal. In the French Open, Federer made the semifinals before losing to Djokovic in straight sets, in a rematch of previous year\'s semifinal.[127][128]", "At Wimbledon, Federer had a five-set match in the third round against Julien Benneteau on his way to the winning the tournament. Federer defeated Andy Murray in four sets in the 2012 Wimbledon final,[129] regaining the No. 1 ranking in the process.[130] \"It\'s amazing. It equals me with Pete Sampras, who\'s my hero. It just feels amazing\", Federer said of winning his seventh Wimbledon championship, tying Sampras\' Open Era record.[131] By defeating top-ranked Djokovic in the semifinals and winning in the finals, Federer returned to the top spot in the world rankings and, in doing so, broke Sampras\' record of 286 weeks atop the list.[132]", "In the 2012 Summer Olympics, Federer played a 4-hour 26-minute semifinal against del Potro where Federer won 19–17 in the third and final set.[133] In a lopsided match, he lost to Murray in straight sets in the final, winning a silver medal for his country.[134]", "Federer won the Cincinnati open in August, beating Novak Djokovic in the final.[135] In the US Open, five-time champ Federer was defeated by Tomáš Berdych in the quarterfinals.[136] At the Shanghai Masters, after defeating Wawrinka in the third round, Federer confirmed his 300th week at No. 1. Federer made it to the finals of the ATP Finals, where he lost to Djokovic in two sets.[137][138]", "Federer developed back injuries in March and July and his ranking dropped from No. 2 to No. 6.[139][140] Federer\'s first and only title of 2013 came at the Gerry Weber Open (defeating Mikhail Youzhny), where he also played doubles with good friend Tommy Haas. With the victory in Halle, he tied John McEnroe for the third-most ATP titles won by a male player in the Open Era.[141] Federer, however, was unable to maintain his form into Wimbledon, suffering his worst Grand Slam tournament defeat since 2003 in the second round against Sergiy Stakhovsky. Not only did the loss end Federer\'s record streak of 36 consecutive quarterfinals at Grand Slam tournaments,[142] it meant he would drop out of the top 4 for the first time since July 2003.[143]", "During the summer, he experimented with various different racquets and played the German Open with a blacked-out 98-inch Wilson racquet, instead of his regular Pro Staff 6.1 90 BLX racquet with the smaller 90-inch hitting area. He returned to his regular racquet for the second half of the season.[144][145] After Wimbledon, Federer continued to be upset early in tournaments in Hamburg and Gstaad because of a serious back injury through October, when he announced that he was parting ways with Paul Annacone, his coach for the last three years.[146] Federer made the final in Basel, succumbing to Juan Martín del Potro in three sets, and indicated it was a mistake to have played certain tournaments while suffering from a back injury.[147]", "On 27 December 2013, Federer announced that Stefan Edberg was joining his team as co-coach with Severin Lüthi.[148]", "Federer began the season by changing rackets for the first time in his career, from his longtime frame of 90 square inches to one measured at 97 square inches. He had long been at a comparative disadvantage in equipment as almost the entire tour, including his top rivals Nadal and Djokovic, used more powerful frames of between 95 and 100 square inches.[144][149] At the Australian Open, Federer defeated Jo-Wilfried Tsonga and Andy Murray to reach his 11th consecutive semifinal in Melbourne, before losing to Rafael Nadal in straight sets.[150]", "At the Dubai Tennis Championships, he defeated Novak Djokovic in the semifinals, and then defeated Tomáš Berdych in the final to win his sixth Dubai crown and his first title since Halle in 2013.[151] Federer made the final at the Indian Wells Masters, but lost to Novak Djokovic in a final-set tiebreaker.[152] At the Davis Cup quarterfinals, Federer won both of his singles rubbers against Kazakhstan, the second of which was the first live deciding rubber of his Davis Cup career.[153] Federer then took a wild card into the Monte-Carlo Masters defeating Novak Djokovic on his way to the finals, but lost to compatriot Stan Wawrinka in a tight final.[154]", "In June, Federer announced that after the end of his third term, he would resign as President of the ATP Players Council, a position he had held since 2008.[155][156][157] At the Halle Open, Federer reached both the singles and the doubles finals and won his seventh Halle singles title, beating Alejandro Falla in the final.[158] At Wimbledon, Federer reached a record ninth final, but he was defeated by Djokovic in an epic five-set match.[159][160]", "Federer receiving serve against Richard Gasquet in the title-clinching match for Switzerland at the 2014 Davis Cup", "Federer made the final of the Canadian Open but was defeated by Jo-Wilfried Tsonga.[161] Federer defeated Spain\'s David Ferrer in three sets to capture his sixth Cincinnati crown and 22nd ATP Masters title, his first in Cincinnati since 2012.[162] He then reached the semifinals at the US Open but lost in straight sets to eventual champion Marin Čilić.[163] At the Davis Cup semifinals, Federer won both his singles matches against Italy in straight sets and led Switzerland to the final for the first time since 1992.[164]", "Federer then played in the Shanghai Masters. He beat Novak Djokovic in the semifinals, ending the Serb\'s 28-match unbeaten run on Chinese soil. He battled Frenchman Gilles Simon in his second Shanghai final, defeating him in two tiebreak sets and collected the 23rd Masters title of his career.[165] The victory saw Federer return to the No. 2 ranking for the first time since May 2013. Federer then played the Swiss Indoors in October, where he won a record sixth title and his 82nd ATP men\'s singles title overall. Federer also reached the finals of the 2014 ATP Finals to face Djokovic again, but withdrew from the final because of another back injury from his semifinal match against Stan Wawrinka.[166]", "Despite his injury, Federer finished the season on a high by defeating Richard Gasquet to clinch the Davis Cup for Switzerland for the first time in its history.[167] The final was held at the Stade Pierre-Mauroy in Lille, France attracting over 27,000 spectators per match; this broke attendance record for the highest ever officially sanctioned competition tennis match.[168]", "Federer started his season at the Brisbane International. He defeated Milos Raonic in the final, thereby becoming only the third man in the Open Era to have 1,000 or more wins, joining Jimmy Connors and Ivan Lendl, as well as the first man in the Open Era to win at least one title in each of 15 consecutive years.[169] In Dubai, Federer successfully defended his title with a straight-set victory over Novak Djokovic in the final, marking his seventh title at the tournament and, after Wimbledon and Halle, was the third time he had won seven or more titles in a tournament.[170] Additionally, Federer became the fourth person since 1991 to surpass 9,000 career aces.[171] In March, he reached the final of the Indian Wells but lost in three sets to defending champion Djokovic.[172]", "Federer won his third title of the season at the inaugural Istanbul Open clay-court tournament, ending a title drought on red clay since the 2009 French Open. Federer made it to the final of the Italian Open in May, but was unable to win his first title there, losing to Djokovic in the final.[173] In the French Open, he made it through the first rounds losing just one set, to Gaël Monfils in the 4th. In the quarterfinals, he was eventually beaten in straight sets by the later champion Stan Wawrinka.[174]", "As the new expanded grass season began, Federer won his record eighth Gerry Weber Open and become only the third man in the Open Era to win a title eight times.[175] Federer entered Wimbledon as the second seed. He played a flawless match to defeat Andy Murray in straight sets in the semifinals and advance to his 10th Wimbledon final in a repeat against Novak Djokovic. Federer lost the match in four sets.[176]", "He defeated Andy Murray and Novak Djokovic in straight sets to win the Cincinnati Masters for the seventh time. This marked the first time that Federer had beaten the top two players in the world at the same tournament.[177] At the US Open, he advanced to his first final there since 2009 without dropping a set, including a win over Stan Wawrinka in the semifinals.[178] In the final, he was once again defeated by top seed Djokovic in four sets.[179] At the Swiss Indoors tournament in Basel, Federer won his sixth singles title of the year, and his 88th ATP title, defeating his old rival Rafael Nadal in the final.[180] It was the seventh time he had captured his hometown tournament.[181]", "In December, Federer announced that he would enter the 2016 ATP Tour season with a new-look coaching team, having additionally announced that Stefan Edberg would not be travelling with him next year. While countryman Severin Lüthi remained Federer\'s head coach, joining the team in 2016 was Croatian former world No. 3 player Ivan Ljubicic. Federer revealed that Edberg originally signed on to the coaching team for one season only in 2014 but agreed to stay on in 2015.[182]", "Federer started his season in the Brisbane International as the defending champion, despite having a virus when the tournament started. However, in a rematch of the previous year\'s final, he lost in the final to Milos Raonic in straight sets.[183] Federer then participated at the 2016 Australian Open and rebounded from his third round defeat by Andreas Seppi in 2015 by reaching the semifinals but lost to eventual champion Novak Djokovic in four sets.[184] The day after his loss to Djokovic, Federer sustained a knee injury and in early February, he underwent arthroscopic surgery to repair a torn meniscus in his knee and missed the tournaments in Rotterdam, Dubai and Indian Wells in February and March. He was scheduled to return to action in Miami.[185] Due to a stomach virus he had to withdraw from Miami thus prolonging his time on the sidelines.[186]", "Federer made his comeback at the Monte-Carlo Masters, losing in the quarterfinals to Jo-Wilfried Tsonga in three sets. In Madrid, he suffered a back injury during practice and withdrew shortly after arriving. He then participated in the Internazionali BNL d\'Italia where he lost in the third round to Dominic Thiem. His withdrawal from the French Open broke a record run of 65 consecutive participations in the main draw of Grand Slam tournaments, stretching back to the 2000 Australian Open.[187]", "Still suffering from recurring knee pain during the grass season he lost in the semifinals of Stuttgart and Halle. On 6 July, he came back from two sets down to defeat Marin Čilić in five sets in the 2016 Wimbledon quarterfinals, equalling Jimmy Connors\' all-time records of eleven Wimbledon semifinals and 84 match wins.[188] He suffered his first defeat in a Wimbledon semifinal two days later in a five-set loss to Raonic, re-injuring his knee in the fifth set.[189]", "On 26 July, Federer announced that he would miss the 2016 Summer Olympics and the remainder of the 2016 season to fully recover from his knee injury.[190] The sudden withdrawal not only implied that 2016 was his first season since 2000 that Federer failed to win a title, but it also meant that he would have to drop out of top ten for the first time in fourteen years. This, combined with a grand slam drought spanning over four years, led to many analysts believing that his outstanding career was finally coming to an end and he would never win any major titles again.[191][192]", "Federer\'s 2017 season marked a return to Grand Slam wins since 2012, the most titles since 2007, and the highest win percentage since 2006. Statistically, this season was his best since 2007.[193][194] Federer played in the Hopman Cup and Australian Open in January 2017.[195] His withdrawal from most of the injury affected 2016 season lead his ranking slip to No. 17 at the start of Australian Open, his lowest in over fifteen years. At the Australian Open, he beat top-10 players Tomáš Berdych and Kei Nishikori on his way to semifinals, making Federer the oldest man to compete in a grand slam semi-final since Jimmy Connors in 1991.[196] In the semi-finals, he defeated Stanislas Wawrinka in five sets, making him the oldest player to compete in a Grand Slam final since Ken Rosewall in 1974.[197][198] Coming back from a break down in the fifth set, Federer defeated Rafael Nadal to win the Australian Open, which also marked Federer\'s 100th match at the Australian Open; it was the first time Federer had won a match against Nadal in a Grand Slam event since the 2007 Wimbledon final, and also marked Federer\'s first ever Grand Slam victory over Nadal outside the grass courts of Wimbledon. With this victory, he re-entered the top ten.[199][200][201]", "In March, Federer won his 25th Masters title at Indian Wells, defeating Wawrinka in the final and gaining another victory over Nadal in the 4th round. This was also Federer\'s 90th career title and he climbed to No. 6 in the ATP rankings.[202] Federer collected his 26th Masters title by defeating Nadal in the final of the Miami Masters in straight sets and climbed to No. 4 in the ATP rankings. This marked the third time Federer had won in Indian Wells and Miami back-to-back, colloquially referred to as the Sunshine Double (2005, 2006 and 2017).[203]", "Due to concerns about his longevity, Federer decided that he would skip the entire clay-court season.[204] He returned to the tour at the beginning of the grass-court season in Stuttgart, where he suffered a shock defeat to Tommy Haas in the second round despite holding match points, the lowest-ranked player (No. 302) to beat him since No. 407 Bjoern Phau in 1999.[205] He rebounded the following week by winning a record-extending ninth title at the Gerry Weber Open in Halle, doing so without the loss of a set.[206] In the 2017 Wimbledon Championships, Federer made it to the final without dropping a set, defeating Milos Raonic in the quarterfinals and Tomáš Berdych in the semifinals. In the final, Federer defeated a physically and mentally out of sorts Marin Čilić in straight sets to win a record-breaking eighth Wimbledon gentlemen\'s singles title and his record-extending 19th major title overall, becoming the oldest male player to win Wimbledon in the Open era.[207] Federer became the second man in the Open era to win Wimbledon without dropping a set after Björn Borg in 1976.[208] It marked the second time in his career that he had won a grand slam tournament without losing a set, matching his performance at the 2007 Australian Open.[209] Federer moved up to become No. 3 in the ATP Rankings after the event and qualified for the ATP Finals for a record 15th time.[210]", "At the opening of the summer hard court swing Federer was defeated in the final of the Montreal Masters by Alexander Zverev after injuring his back during the match.[211] Due to the injury, he opted to withdraw from the Cincinnati Masters to be fit for the US Open. However, Federer lost to del Potro in the quarterfinals at the US Open, in a tournament characterized by inconsistent play from Federer, unlike the major portion of the season.[212]", "Federer\'s next participation was in September in the inaugural Laver Cup, representing team Europe. Federer won both his singles matches against Sam Querrey and Nick Kyrgios, with the latter win sealing the cup for Europe.[213] The tournament was also notable for Federer playing doubles teaming with longtime rival Nadal for the first time. The two legends emerged victorious against world duo of Sam Querrey and Jack Sock.[214]", "At the Shanghai Masters, Federer captured his third Masters title of the season, defeating No. 1 Rafael Nadal in the final. This was Federer\'s fifth straight victory over Nadal in their rivalry and his 94th career title, drawing him level with 2nd-placed Ivan Lendl.[215] During the indoor season, Federer defeated Juan Martin Del Potro in the final of his hometown tournament, the Swiss Indoors in Basel, earning a record eighth championship there and winning his 95th career title, surpassing Ivan Lendl in number of career titles.[216] Federer qualified for the 2017 ATP Finals, but was beaten by David Goffin in the semifinals in three sets.[217]", "Federer started his season winning the Hopman Cup partnering with Belinda Bencic. This was his second Hopman Cup title, having won previously in 2001 with Martina Hingis.[218] At the 2018 Australian Open, Federer reached the final without dropping a set, and successfully defended his title beating Marin Čilić in a five-set final. This was Federer\'s sixth title at the Australian Open, equaling the then record held by Roy Emerson and Novak Djokovic, which was surpassed by Djokovic in 2019. He also became the first man to win twenty Grand Slam titles. It was also the first time since the 2008 US Open that Federer successfully defended a major title.[219]", "In mid-February, Federer won his third Rotterdam Open title to return to No. 1 in the ATP rankings, clinching the spot with a quarterfinal victory over Robin Haase.[220] He beat Grigor Dimitrov in straight sets in the final. At 36 years and 195 days of age, he became the oldest ATP world No. 1 by more than three years. He also broke the ATP record for the longest span between a player\'s first and last weeks to attain the No. 1 ranking at 14 years and 17 days apart, as well as the most time between two successive reigns at No. 1 at 5 years and 106 days.[221]", "In March, Federer entered the Indian Wells Masters as the defending champion. He defeated Chung Hyeon in the quarterfinals, ensuring that he retained the world No. 1 ranking, and Borna Ćorić in the semifinals, solidifying a career-best start to a season at 17–0. His previous best season start had been 16–0 during the 2006 season.[222] Despite holding three championship points, Federer was defeated by Juan Martin Del Potro in a close three-set final. At the Miami Open, Federer received a first-round bye, but lost in the second round to Thanasi Kokkinakis. With this early exit from the tournament, Federer lost his No. 1 ranking to Nadal on 2 April. He announced that he would miss the clay court season, including the French Open, for the second consecutive season.[223] Nevertheless, he regained the No. 1 ranking in May after Nadal failed to defend one of his Masters titles at the Madrid Open.[224] He then lost the top spot the following week after Nadal won the title at the Italian Open.[225]", "In June, Federer regained the No. 1 ranking after defeating Nick Kyrgios in the semifinals at the Stuttgart Open.[226] He then won the tournament, defeating Milos Raonic in the final in straight sets.[227] However, he lost his No.1 ranking the following week when he failed to defend his Halle Open title, losing in the final to Borna Ćorić in three sets.[228] At Wimbledon, Federer was looking to defend his 2017 title and was seeded first at a Grand Slam for the first time since the 2012 US Open but lost in the quarter finals against South African Kevin Anderson in five sets, despite winning the first two sets and having a match point in the third set.[229] This was only his second Wimbledon defeat after winning the first two sets since his defeat to Jo-Wilfried Tsonga at the 2011 Wimbledon Championships.[230]", "Federer next played in Cincinnati where he lost in the final to Novak Djokovic, who won a record Career Golden Masters, in straight sets.[231] The loss ended Federer\'s run of 100 consecutive service holds and 14 match winning streak in Cincinnati. Federer entered the US Open as the second seed but was upset by John Millman in the 4th round, citing extreme conditions of heat and humidity that took a toll on his body.[232] Federer then played at the Laver Cup where he successfully helped Team Europe defend their title, winning both his singles matches against Nick Kyrgios and John Isner.[233] He also paired up with Djokovic for the first time in doubles, losing their match against Jack Sock and Kevin Anderson in three sets.[234] Federer then played at the 2018 Shanghai Masters as the defending champion but lost in the semifinals to Borna Ćorić in straight sets.[235]", "At the Swiss Indoors in October, Federer shared that he had sustained a hand injury in training prior to the grass season that had caused severe pain up his forearm. He stated that this injury significantly hindered his play, particularly his forehand, since the Stuttgart Open.[236][237] Federer went on to defend his title with a straight-sets win over Marius Copil in the final, winning his ninth title at the event and his 99th career singles title.[238] Federer entered the Paris Masters, continuing his good run of form defeating Fabio Fognini and Kei Nishikori in straight sets. In the semi-finals, he played a very close match with Novak Djokovic, but ultimately lost to him in three sets. At the Nitto ATP Finals, Federer lost in straight sets to Alexander Zverev in the semifinal.[239]", "Federer opened his campaign by retaining the Hopman Cup alongside Belinda Bencic, becoming the first player to win the mixed-gender event three times.[240]", "Federer was seeded third at the 2019 Australian Open, entering as the two-time defending champion. He defeated Denis Istomin, Dan Evans, and Taylor Fritz to reach the fourth round, where he faced 14th seed Stefanos Tsitsipas. In a stunning upset, Tsitsipas defeated Federer in four close sets. Critically, Federer was unable to convert any of the twelve break points he held throughout the match, including four set points in the second set. After the match Federer announced he would play the clay court season for the first time since 2016.[241][242]", "At the Dubai Tennis Championships, Federer won his 100th Career Singles Title, beating Tsitsipas in straight sets in the final. It was his eighth title in Dubai and he became only the second man after Jimmy Connors to reach the three figure mark in the Open Era.[243] Federer then reached the final of the 2019 Indian Wells Masters where he lost to Dominic Thiem in three sets.[244] On 31 March, Federer defeated John Isner at the 2019 Miami Open in straights sets to win his 4th Miami Open title and 28th Masters title.[245] Federer then played his first clay court tournament in three years at the 2019 Madrid Open and secured his 1200th career win, beating Gael Monfils in the third round. In the quarterfinals he lost to Dominic Thiem again in three sets, despite having two match points in the second set.[246] Federer then played at the Italian Open and reached the quarterfinals but was forced to withdraw from his quarterfinal match against Stefanos Tsitsipas due to a right leg injury.[247]", "Federer next played at the French Open for the first time in 4 years and seeded 3rd in the draw. Federer achieved comfortable straight-set victories against Lorenzo Sonego, Oscar Otte, Casper Ruud and Leonardo Mayer to reach the quarterfinals, where he faced good friend and compatriot Stan Wawrinka. Federer managed to avenge his loss to Wawrinka at the same stage of the tournament 4 years ago, winning in 4 sets after 3 hours and 35 minutes. With the victory Federer returned to the semifinals of the French Open for the first time since 2012, where he lost to defending and 11-time champion Rafael Nadal in straight sets.[248]", "Federer then began his grass court season at the Halle Open where he won his tenth title at the event, defeating David Goffin in the final in straight sets. This marked the first time Federer had won a singles tournament ten times or more.[249] At Wimbledon, Roger Federer reached his record 12th final at the tournament after ousting his nemesis Rafael Nadal in four sets in the semifinal, thus exacting revenge for his earlier defeat to him at the French Open. This was also the first time Federer played Nadal at Wimbledon since the 2008 Wimbledon final, a match regarded by some as the greatest match in the history of tennis.[250] Federer then faced Novak Djokovic in the final, against whom he lost in a five set thriller lasting four hours and fifty seven minutes, despite having two championship points on serve in the fifth set. The match also marked the first time a fifth set tiebreaker was played at 12 games all in the men\'s singles and was the longest men\'s final in Wimbledon history.[251]", "Federer next played at the 2019 Cincinnati Masters and reached the third round where he lost in straight sets to Andrey Rublev. This was his quickest defeat in 16 years, taking just 62 minutes.[252] At the 2019 US Open, he was seeded third. He dropped the first set against both Sumit Nagal and Damir Džumhur in the first two rounds, but pulled out convincing straight sets wins over Dan Evans and David Goffin in the third and fourth. In the quarterfinals, he faced Grigor Dimitrov, who was ranked No. 78 going into the tournament. Despite taking a two sets to one lead, Federer ultimately lost the match in five sets.[253][254] At the 2019 Shanghai Masters, Federer defeated David Goffin in straight sets to reach the quarterfinal.[255] However, he lost the quarterfinal to Alexander Zverev in three sets.[256]", "Federer advanced to the Swiss Indoors as the two-time defending champion. His first round match, against Peter Gojowczyk, was remarkable for being the 1500th match of his career. In the final, he defeated Alex de Minaur in straight sets for a record-extending tenth Swiss Indoors title.[257] Federer then played in the Björn Borg group at the 2019 ATP Finals where in the round robin, he lost his opening match to Dominic Thiem in straight sets but beat Matteo Berrettini and Djokovic (his first win over Djokovic since 2015) in straight sets to qualify for the semifinals.[258] He then lost the semifinal to Stefanos Tsitsipas in straight sets.[259]", "Federer began his 2020 season at the 2020 Australian Open. He reached the semifinals after straight sets wins over Steve Johnson and Filip Krajinović, a five-set win over John Millman and a four-set win over Márton Fucsovics. Federer saved seven match points in his five-set quarterfinal win over Tennys Sandgren.[260] Federer then lost his semifinal match to Djokovic in straight sets, having sustained a groin injury earlier in the tournament.[261] In February, Federer underwent arthroscopic surgery for a right knee injury and subsequently withdrew from Dubai, Indian Wells, Miami and the French Open to give time for his knee to recover, announcing that he would return in the grass season.[262] On 10 June, due to a setback from his initial rehabilitation from the knee injury suffered earlier in the year, Federer announced that he had to have an additional arthroscopic procedure on his right knee. Therefore, he officially shut down his season to take the necessary time to recover, vowing to return in 2021. This is only the second year in Roger Federer\'s career since he won his first title that he finished without a title.[263]", "In January, Federer withdrew from the 2021 Australian Open due to still recovering from knee surgery and strict COVID-19 quarantine measures in Australia.[264][265] On 8 March, Novak Djokovic moved past him for the highest number of career weeks spent as the ATP number 1 ranked player.[266] On 10 March, he made his return to the ATP Tour at the Qatar Open. It won his first ATP match in 14 months against Dan Evans, but lost to Nikoloz Basilashvili in the quarter-finals.[267]", "Federer then played at the Geneva Open where he lost his second round match Pablo Andujar in three sets.[268] After defeating Dominik Koepfer of Germany in four sets in the third round, Federer advanced to the round of sixteen at the French Open. However he withdrew from the tournament before undertaking to play the fourth match citing knee problems and defaulted to Matteo Berrettini of Italy in a walkover.[269]", "In 2021 Halle Open where he was seeded 5th, he lost in the second round to Félix Auger-Aliassime. Federer was playing against the 20-year-old for the first time. Their 19 years age difference was the biggest in Federer\'s 1,521 career matches. This was the earliest exit at this tournament for Federer who was seeking his 70th match win in Halle, and his 18th quarterfinal at this event in as many appearances.[270][271] At Wimbledon, 39-year-old Federer advanced to the quarterfinals and thus became the oldest Wimbledon quarterfinalist in the Open Era, breaking the record held by Ken Rosewall,[272] following wins over Adrian Mannarino by retirement, Richard Gasquet, 29th seed Cameron Norrie, and 23rd seed Lorenzo Sonego. However, he was then upset by 14th seed Hubert Hurkacz in the quarterfinal in straight sets. This was the first time in 19 years at Wimbledon he lost in straight sets, and only the second time he lost a set 6-0 in the 21st century (the previous occasion was against Nadal in the 2008 French Open final).[273][274][275]", "On August 15, Federer announced that he underwent another knee surgery after further injury during the grass court season. He withdrew from the US Open and stated that he would be off the tour for \"many months\", but he also hopes to make a return to the tour in 2022.[276]", "Federer made his Olympic debut at Sydney in 2000, where he entered the singles competition. He surprised many by reaching the semifinals but lost to Tommy Haas in the semifinals and then to Arnaud Di Pasquale in the bronze medal match, causing Federer to leave Sydney empty handed.[277][278] At the 2004 Summer Olympics in Athens, Federer was the clear favorite after claiming the world No. 1 ranking earlier in the year and capturing the Australian Open and Wimbledon titles. However, he lost in the second round to 18-year-old Tomáš Berdych. In doubles, he and compatriot Yves Allegro lost in the second round.[279]", "At the 2008 Summer Olympics in Beijing, Federer was again the top seed and favorite, but lost in the quarterfinals to James Blake.[280] He found more success in men\'s doubles, capturing the gold medal with compatriot Stan Wawrinka, defeating Simon Aspelin and Thomas Johansson of Sweden.[281] At both the Athens and Beijing Olympic Games, Federer was the flagbearer for Switzerland in the opening ceremony.[282] At London 2012, Federer won his first singles medal, losing to Andy Murray in the final to claim the silver. He and Wawrinka failed to defend their gold medal in doubles, losing in the second round to Jonathan Erlich and Andy Ram of Israel.[283][284]", "Federer did not compete in the 2016 Rio Olympics after taking the rest of the season off after Wimbledon to recover from a knee injury.[285] Similarly, Federer chose not to compete in the 2020 Tokyo Olympics due to a setback to recovering from a knee surgery.[286]", "Federer made his Davis Cup for Switzerland debut in the World Group first round against Italy in 1999 at 17 years of age. In his first match he defeated Davide Sanguinetti in four sets and recorded a second singles victory in a dead rubber two days later for Switzerland to advance to the World Group quarterfinals.[287] There, Federer suffered his first Davis Cup loss when he was defeated by Belgian Christophe Van Garsse in five sets. The Swiss team went on to lose the rubber 3–2. A year later, Federer competed in his first Davis Cup doubles rubber where he teamed with countryman Lorenzo Manta to defeat Australians Wayne Arthurs and Sandon Stolle in four sets. Despite the doubles victory, Federer lost both singles rubbers to Mark Philippoussis and Lleyton Hewitt which saw Switzerland sent to the World Group Playoffs for the first time in Federer\'s career. He returned for the playoffs in July 2000 and led Switzerland to a 5–0 win over Belarus by recording wins in singles and doubles.[288]", "His first Davis Cup highlight came in 2003 as the newly crowned Wimbledon champion led his country to an historic semifinal run. After recording five wins in ties against the Netherlands and France, the Swiss team traveled to Melbourne to play the highly rated Australians.[289] Federer once again defeated Wimbledon runner-up Mark Philippoussis in the second rubber but dropped the doubles rubber in five sets. Federer then played Lleyton Hewitt in a sudden death situation for Switzerland and despite leading two sets to love, lost in five sets.[290] Australia went on to claim the Davis Cup title[291] as Federer\'s interest in Davis Cup began to wane and his focus shifted to his personal career. He skipped many ties over the years but often competed in the World Group Playoffs in order for Switzerland to maintain their place in the top division.[292][293][294]", "The emergence of countryman Stanislas Wawrinka as a Grand Slam singles champion in 2014 renewed hope for Federer in his Davis Cup quest, and the pair both committed to playing each tie that year. Their commitment paid off as wins over Serbia, Kazakhstan and Italy allowed the Swiss team to advance to the 2014 Davis Cup Final. Leading up to the final, Federer was suffering from a back injury[295] that threw serious doubt over Switzerland\'s chance to claim the title, and lost in straight sets to Gaël Monfils. However, a rejuvenated Federer returned the next day to help claim the doubles rubber, which set up a fourth rubber singles tie between Federer and Richard Gasquet. Federer defeated Gasquet in straight sets and in doing so won Switzerland its first (and only to date) Davis Cup title.[296][297]", "Federer holds many Davis Cup records for Switzerland that includes most total wins, most singles wins and most years played.[298]", "Federer won the Hopman Cup in 2001 representing Switzerland, along with Martina Hingis. The duo defeated the American pair of Monica Seles and Jan-Michael Gambill in the finals.[299] He also played the next year along with his current wife Mirka Vavrinec, but they lost in the round robin stage.[300]", "Federer played at the Hopman Cup again in 2017 with Belinda Bencic. They won all of their ties except the last one, and as a result did not make the final.[301][302]", "In 2018, Federer won his second Hopman Cup title and third overall for Switzerland, partnering Belinda Bencic again. The Swiss team won all its ties and Federer won every match he played. They defeated the German pair, Alexander Zverev and Angelique Kerber, in the final 2–1.[303]", "Federer won his third and second consecutive Hopman Cup title in 2019 alongside Belinda Bencic. They again defeated Alexander Zverev and Angelique Kerber of Germany in the final, and won the final tie 2–1 by a tiebreak in the decisive set (5–4). Federer again won all of his singles matches. The Swiss team only lost one tie to Greece (1–2).[304]", "Federer has won three Hopman Cup titles, more than any other player.[304]", "Federer founded the Laver Cup, which pits Europe against the rest of the world. The tournament is named in honor of Rod Laver and the inaugural edition was played in 2017.[305]", "Europe won the inaugural Laver Cup in 2017. Federer played his first singles match on day two, when he dispatched Sam Querrey in straight sets. Later on day two, he partnered with his rival Nadal in doubles, where they defeated the Team World duo of Sam Querrey and Jack Sock in the match tie breaker, which took place at one set all. This was the first time Federer and Nadal competed on the same side of a doubles match. On day three, Federer competed in the final match of the tournament, where he sealed victory for Team Europe by defeating Nick Kyrgios in the champion\'s tiebreak (saving a match point). With three wins and seven points, Federer was the most accomplished player of the tournament.[306][307]", "The second edition was played in 2018. The European team led by Federer retained the title after defeating Team World, 13–8. Federer won both his singles matches, against Nick Kyrgios and John Isner, but lost both his doubles matches.[308]", "In 2019 the ATP announced that the Laver Cup would be an official event on the ATP Tour, with match wins and losses to be counted as official on every player\'s career record in singles and doubles.", "The third edition was held in Geneva, Switzerland. Federer and the European team captured their third consecutive title. Team World was closer than ever to win their first title, losing 11–13 after having led during the final day. Like in 2018, Federer won singles matches against Kyrgios and Isner. He went 1–1 in doubles.", "Federer and Rafael Nadal have played 40 times, with Federer trailing 16–24. Federer has a winning record on grass 3–1 and hard courts 11–9, while Nadal leads on clay 14–2.[309] Because tournament seedings are based on rankings, 24 of their matches have been in tournament finals which have included an all-time record nine Grand Slam finals (tied with Nadal-Djokovic matches).[310] Federer and Nadal have been playing each other since 2004, and their rivalry is a significant part of both men\'s careers.[311][312][313][314][315] The latest encounter was at the 2019 Wimbledon Championships, where Federer won to reach the final.", "They held the top two rankings on the ATP Tour from July 2005 until 17 August 2009, when Nadal fell to No. 3 (Andy Murray became the new No. 2),[316] and again from 11 September 2017 until 15 October 2018 (Novak Djokovic became the new No. 2). They are the only pair of men to have ever finished six consecutive calendar years at the top. Federer was ranked No. 1 for a record 237 consecutive weeks beginning in February 2004. Nadal, who is five years younger, ascended to No. 2 in July 2005 and held it for 160 consecutive weeks, before surpassing Federer in August 2008.[317]", "From 2006 to 2008, they played in every French Open and Wimbledon final. They then met in the 2009 Australian Open final, the 2011 French Open final, and the 2017 Australian Open final. Nadal won six of the nine, losing the first two Wimbledon finals and the second Australian Open final. Four of these finals were five-set matches (2007 and 2008 Wimbledon, 2009 and 2017 Australian Open), with the 2008 Wimbledon final being lauded as the greatest match ever by many long-time tennis analysts.[318][319][320][321] Of their 40 meetings, 13 have reached a deciding set. They have also played in 12 Masters Series finals, including their lone five-hour match at the 2006 Rome Masters which Nadal won in a fifth-set tie-break, having saved two match points.", "Federer and Novak Djokovic have played 50 times, with Federer trailing 23–27.[322][323] They are tied 4–4 on clay while Federer trails 18–20 on hard-courts and 1–3 on grass. The Federer–Djokovic rivalry is the largest rivalry in men\'s Grand Slam tournament history with a joint-record 17 matches played against each other (tied with Djokovic–Nadal). Djokovic is the only player besides Nadal to defeat Federer in consecutive Grand Slam tournaments (2010 US Open and 2011 Australian Open, also 2015 Wimbledon, US Open and 2016 Australian Open), and the only player besides Nadal and Murray who has double-figure career wins over Federer. Djokovic is one of two players (the other again being Nadal) on tour to have defeated Federer in straight sets at a Grand Slam event multiple times (2008 Australian Open, 2011 Australian Open, 2012 French Open, 2020 Australian Open), but Djokovic alone has done so four times.", "Federer and Djokovic first played in a Grand Slam final at the 2007 US Open where the three-time reigning champion and No. 1 Federer emerged victorious in straight sets. Federer ended Djokovic\'s perfect 41–0 start to the 2011 season in the semifinals of the French Open, but Djokovic was able to avenge this loss at the 2011 US Open in five sets after saving two match points against Federer for the second straight year.[324] In the semifinals of Wimbledon 2012, Federer beat defending champion and No. 1 Djokovic in four sets.[325] The two met again during the finals of the 2014 Wimbledon Championships with Djokovic emerging victorious after five sets.[326] Federer also ended Djokovic\'s 28 straight wins in China at 2014 Shanghai Open. Federer and Djokovic rematched in the 2015 Wimbledon Championships with Djokovic once again claiming victory in four sets.[327] The pair met once more for the final major of the season, the 2015 US Open and once more Djokovic prevailed in four sets.[328] At the 2019 Wimbledon Championships, Djokovic bested Federer in an almost 5 hour match whose final set went to a tiebreak. This was the fifth consecutive time that Djokovic defeated Federer in Grand Slam matches. Some experts have included the rivalry between Federer and Djokovic as one of the best rivalries in the Open Era.[329]", "Federer and Andy Murray have played 25 times, with Federer leading 14–11. Federer leads 12–10 on hard courts, and 2–1 on grass. They have never met on clay. After Federer won the first professional match they played, Murray dominated the first half of the rivalry, leading 8–5 in 2010, while the second half of the rivalry has been dominated by Federer, who leads 9–3 since 2011.[330] The two have met six times at the Grand Slam tournament level, with Federer leading 5–1. Their first three Grand Slam matches were finals, with Federer winning all three of these matches; at the 2008 US Open[331] and the 2010 Australian Open,[332] both of which he won in straight sets, and at the 2012 Wimbledon Championships in which Murray took the opening set, but went on to lose in four sets. However, Murray won their encounter in the semifinals of the 2013 Australian Open, defeating Federer for the first time at a Grand slam tournament in five sets. At the 2014 Australian Open, Federer reversed that result, defeating Murray in four sets in the quarterfinals. The most recent meeting between the two in a major was in the semifinals of the 2015 Wimbledon Championships, where a dominant Federer triumphed in straight sets.", "They met in the final of the 2012 Summer Olympics, in which Murray defeated Federer in straight sets, denying Federer a career Golden Slam. Murray also leads 6–3 in ATP 1000 tournaments, 2–0 in finals. They have also met five times at the ATP Finals, with Murray winning in Shanghai in 2008,[333] and Federer in London in 2009, 2010, 2012, and 2014.[334] Murray is one of only three players to have recorded ten or more victories over Federer (the other two being Nadal and Novak Djokovic).", "Federer and Andy Roddick played 24 times, and Federer leads their head-to-head 21–3. Roddick lost his No. 1 ranking to Federer after Federer won his first Australian Open in 2004. Their rivalry includes four Grand Slam event finals, three at Wimbledon and one at the US Open, all won by Federer.[335] Roddick himself said it was not much of a rivalry, being so one-sided.[336]", "In the 2009 Wimbledon final, Roddick lost to Federer in five sets. The match included a 30-game fifth set (a Grand Slam final record) and lasted over four hours. In the final game of the deciding set, Roddick\'s serve was broken for the first time in the match. With that victory, Federer broke Pete Sampras\' record of 14 Grand Slam singles titles, and Roddick apologised to Sampras (who was in attendance) for not being able to stop Federer.", "Federer and Lleyton Hewitt played 27 times, with Federer leading 18–9.[337] Early in their careers, Hewitt dominated Federer, winning seven of their first nine meetings, including a victory from two sets down in the 2003 Davis Cup semifinal which allowed Australia to defeat Switzerland. This marked a turning point in the rivalry, as Federer won 16 of the next 18 meetings from 2004 onwards. This is Hewitt\'s longest rivalry as these two first played each other as juniors in 1996. They met in one Grand Slam tournament final, the 2004 US Open final, where Federer won his first US Open title in a lopsided encounter in which Federer scored a bagel on both sides of a second-set tiebreak. Federer met Hewitt at six of the Grand Slam tournaments in which he lifted the trophy, including all five of his triumphs between 2004 and 2005. Their last meeting was at the 2014 Brisbane International, where Hewitt triumphed over Federer in three sets for his first title since 2010, when he also beat Federer to the Halle title.", "Hewitt and Federer teamed up in the men\'s doubles at Wimbledon in 1999. They lost in the third round to Jonas Björkman and Pat Rafter.[338]", "Federer and David Nalbandian played 19 times, with Federer leading 11–8.[339] David Nalbandian was Federer\'s biggest rival in his early career. Nalbandian dominated early on, winning their first five matches from 2002 to 2003. Federer reversed this trend at the 2003 Masters Cup, where he recorded his first victory, and went on to win 11 of their last 14 meetings. Federer leads 6–5 on hard courts, 1–0 on grass, and 3–1 on clay courts, while Nalbandian leads 2–1 on carpet. Notable meetings include Nalbandian\'s win in a fifth-set tiebreaker to win the 2005 Masters Cup, and Federer\'s win in the 2006 French Open semifinals. They met each other six times in Grand Slam tournaments, with Federer leading 4–2.", "Marat Safin and Federer played 12 times, with Federer leading 10–2.[340] Federer and Safin turned pro within one year of each other, with Safin turning pro in 1997 and Federer in 1998. Federer leads 4–1 on hard courts, 3–0 on grass, and 3–0 on clay courts, while Safin leads 1–0 on carpet. Notable meetings include Federer\'s defeating Safin at the 2002 Hamburg Masters to win the first Masters title of his career, as well as Federer\'s emerging victorious in the semifinals of the 2004 Tennis Masters Cup, after winning a tiebreak 20–18 on his eighth match point. Federer also defeated Safin in the finals of the 2004 Australian Open to capture his first Australian Open and second Grand Slam tournament title. However, Safin defeated Federer in the 2005 Australian Open semifinals, having saved one match point in the fourth-set tiebreak, to end a 26-match winning streak by Federer.[341] They met each other five times in Grand Slam tournaments, with Federer leading 4–1.", "Federer and Andre Agassi played 11 times, and Federer leads their head-to-head 8–3.[342] This was Federer\'s most significant rivalry with a dominant player of the previous generation. They first met in only the third tournament of Federer\'s career at the 1998 Swiss Indoors in Federer\'s hometown, with Andre Agassi prevailing over the 17-year-old. Agassi also defeated Federer at the 2001 US Open and the finals of the Miami Masters in 2002. Federer began to turn the tide at the Masters Cup in 2003, when he defeated Agassi in both the round robin and the final. They played a memorable quarterfinal match at the 2004 US Open that spanned over two days, with Federer eventually prevailing in five sets. At the 2005 Dubai Championships, Federer and Agassi attracted worldwide headlines with a publicity stunt that saw the two men play on a helipad almost 220 meters above sea level at the hotel Burj al-Arab. Their final match was at one of the most prestigious platforms in the sport, when they played in the finals of the 2005 US Open. Federer was victorious in four sets, claiming the 6th Grand Slam tournament of his career and denying Agassi his 9th.", "Federer and his fellow Swiss player Stan Wawrinka have played each other 26 times, with Federer leading 23–3. Federer leads 7–1 in Grand Slam tournaments, 17–0 on hard courts, 1–0 on grass courts and 5–3 on clay courts. The pair are 1–1 in finals. Their first meeting in a final came at 2014 Monte-Carlo Rolex Masters where Wawrinka defeated Federer in three sets to win his first Masters title before Federer avenged his loss at the 2017 BNP Paribas Open by beating him in the final.[343] While the rivalry is one-sided in Federer\'s favour, the two have contested some close matches. Wawrinka defeated Federer in straight sets during the 2015 French Open quarterfinals en route to winning his first French Open title, although Federer then won a straight-sets victory in the 2015 US Open semifinals. Other close matches include the 2012 Shanghai Masters and the 2013 Indian Wells Masters, both of which Federer won in three sets, the 2014 Wimbledon quarterfinal, which Federer won in four sets, the 2014 ATP Finals semifinal, which Federer won in three sets after saving four match points, and the 2017 Australian Open semifinal, which Federer won in five sets. Despite their on-court rivalry, they are friends off court,[344] and they have played doubles together on numerous occasions,[345] most notably when they won the doubles Olympic Gold at the 2008 Beijing Olympics and when winning the 2014 Davis Cup.", "Juan Martín del Potro and Roger Federer have played 25 times, with Federer leading 18–7.[346] They have met seven times in Grand Slam tournaments, with Federer leading 5–2. Their two most famous Grand Slam tournament meetings came in 2009. The first was in the French Open semifinals, when Federer survived a five-set clash when he was on his way to the only French title of his career. The second was in the final of the US Open, where del Potro beat five-time defending champion Federer in five sets, ending his 20-match winning streak at Grand Slams. Another high-profile match was in the semifinals of the 2012 London Olympics, where Federer prevailed 19–17 in the final set to secure the Olympic silver medal. They also met in the finals of the Swiss Indoors in 2012, 2013 and 2017, with del Potro prevailing on first two occasions, and Federer on last one of them in tight three-set matches.", "In the 2017 U.S. Open quarterfinals, in a rematch of the 2009 US Open final, Del Potro again beat Federer in four sets to end his unbeaten streak in grand slams that year. With this win, Del Potro also denied the first Federer-Nadal match at US Open, as in 2009 where he beat Nadal in straight sets in the semifinals. Federer, however avenged this loss at the Shanghai Masters semifinals, where he beat del Potro in three sets after coming from a set down. In the final at the 2018 BNP Paribas Open del Potro beat Federer in three close sets, after facing match points in the third set. With this win del Potro won his first Masters title of his career.[347]", "Tomáš Berdych and Federer played 26 times, with Federer leading 20–6.[348] Federer leads 12–5 on hard courts, 3–1 on grass courts, 4–0 on clay courts, and 1–0 on carpet. Berdych won their first professional match, notably upsetting then-No. 1 Federer at the 2004 Summer Olympics. Federer then went on to win their next eight meetings, before Berdych ended the losing streak in 2010. Between 2010 and 2013, Berdych won 5 of 8 meetings. Federer again dominated the matchup after 2014, leading 9–0 since then. They met ten times in Grand Slam tournaments, with Federer leading 8–2, and Berdych is one of five players, along with Arnaud Clément, Álex Corretja, David Nalbandian, and Jo-Wilfried Tsonga, to defeat Federer multiple times in majors before the semifinal stage. Their most notable Grand Slam matches took place in the 2009 Australian Open, when Federer prevailed in five sets after dropping the first two sets, the 2010 Wimbledon Championships and the 2012 US Open, both of which Berdych won in four sets. Berdych went on to reach the only Grand Slam final of his career after the Wimbledon quarterfinal victory, ending Federer\'s run of seven consecutive finals at Wimbledon dating back to 2003.[349]", "Jo-Wilfried Tsonga and Federer have played 18 times, with Federer leading 12–6. Federer leads 5–3 on outdoor hard courts and 4–0 on indoor hard. They are 1–1 on grass and 2–2 on clay courts.[350] The pair have met six times in Grand Slam tournaments, including their five-set matches in the quarterfinals of 2011 Wimbledon and 2013 Australian Open. They have also one Grand Slam semifinal meeting in the 2010 Australian Open, with Federer winning in straight sets. Federer and Tsonga have played in the 2011 ATP Finals final, with Federer winning his record-sixth Year-end championship in three sets. The pair have also met in two Masters finals. The first was in the 2011 BNP Paribas Masters, with Federer winning his first title in Bercy, and the second was in the 2014 Rogers Cup, with Tsonga winning his second Masters title.", "Federer and Marin Čilić have played 11 times, with Federer leading 10–1.[351] Čilić\'s only victory came in the 2014 US Open semifinals, after which he went on to win the Grand Slam title. Their first encounter was in the 3rd round in the 2008 Paris Masters, which Federer won in straight sets. They have played six Grand Slam matches, two in Wimbledon, two in the US Open, one at the 2018 Australian Open and one at the 2021 French Open; Federer leads these matches 5–1. Two of these have been Grand Slam finals – the 2017 Wimbledon final, which Federer won in straight sets, and the 2018 Australian Open final, which Federer won in five sets.", "Roger Federer has spent a total of 310 weeks and a record 237 consecutive weeks at the top of the ATP rankings.", "Federer, Rafael Nadal and Novak Djokovic have won more Grand Slam tournament titles (20) than any other men\'s singles players.[352][353] He is the first men\'s singles player to have reached ten consecutive Grand Slam tournament finals and a total of 31 Grand Slam finals.[354][355] He has earned a men\'s doubles gold medal, and a men\'s single silver medal at the Olympics in 2008 and 2012, respectively.[356] He has spent the second-most time at the top of the ATP Rankings (310 weeks). He also holds the record for the most titles (6) at the year-end tournament, where only the year-end eight highest-ranked players participate. Federer was ranked among the top eight players in the world continuously for 14 years and two weeks—from 14 October 2002 until 31 October 2016, when injuries forced him to skip much of the 2016 season.[357]", "Federer has won the ATP Player of the Year five times (2004–07, 2009), and has become ITF World Champion five times (2004–07, 2009). He has won the ATPWorldTour.com Fans\' Favourite Award a record 18 times consecutively (2003–20), and has won the Stefan Edberg Sportsmanship Award (voted for by the players) a record 13 times (2004–09, 2011–17),[358] both being awards indicative of respect and popularity. He also won the Arthur Ashe Humanitarian of the Year Award twice (2006, 2013), the Laureus World Sportsman of the Year five times (2005–08, 2018), and the Laureus World Comeback of the Year once, following his 2017 renaissance.[359]", "Federer is one of the founders, via his management company TEAM8, of the Laver Cup; the annual team tennis tournament which pits Europe against the rest of the world. He co-founded the tournament in honor of tennis legend Rod Laver and the inaugural edition was played in 2017.", "Roger Federer has huge popularity in the world of sport, and because of his achievements, Federer is widely considered to be one of the greatest tennis players of all time, with many players and analysts in the period between 2009 and 2017 considering him to be the greatest player ever.[e] He has also been called the greatest athlete of his generation.[374][375] Tennis.com listed him as the greatest male player of the Open Era.[376] Federer himself has downplayed these claims, stating in 2012 that it is impossible to compare tennis players from different eras and that past champions are needed to pave the way for future champions.[377] In May 2020, the Tennis Channel ranked Federer as the greatest male tennis player of all time.[378] In May 2021, Serena Williams described Federer as a \"genius\" and the \"greatest\".[379] In July 2021, BBC Sport users picked Federer as the greatest male tennis player of all time.[380] During an interview with L\'Équipe in July 2021, Richard Gasquet said \'aesthetics and grace\' are more important than the number of Grand Slam titles when it comes to deciding who is the greatest. He named Federer, Djokovic and Nadal as the three best players in history, but singled out Roger Federer as the greatest.[381]", "I see tennis differently, I\'ve always said that for me it\'s not just the number of Grand Slam titles that matters. One at 21, the other at 22 or 23. I don\'t just see the Grand Slam winner, I look at the aesthetics, what you give off on the court. I often hear the race to the highest, it is a pointless subject. For me, Roger Federer is irreplaceable, he\'s the greatest player of all time when I see the aesthetics, the grace he has on the court.", "Until 2020, no other male tennis player had won 20 major singles titles (the record has since been tied by Rafael Nadal and Novak Djokovic). Federer has also been in a record 31 major finals, including a record 10 in a row. He has held the world No. 1 spot in the ATP rankings for the second-longest amount of time for a male player, behind Novak Djokovic. He was ranked No. 1 at the age of 36 and has won a record eight Wimbledon titles. He won five consecutive US Open titles, which is the most in the Open Era.", "He has been voted by his peers to receive the tour Sportsmanship Award a record thirteen times and voted by tennis fans to receive the ATP Fans\' Favorite award for seventeen consecutive years.[382] Federer has been named the Swiss Sports Personality of the Year a record seven times. He has been named the ATP Player of the Year and ITF World Champion five times, and he has won the Laureus World Sportsman of the Year award a record five times, including four consecutive awards from 2005 to 2008. He is also the only individual to have won the BBC Overseas Sports Personality of the Year award four times.", "Federer helped to lead a revival in tennis known by many as the Golden Age. This led to increased interest in the sport, which in turn led to higher revenues for many venues across tennis. During this period rising revenues led to exploding prize money; when Federer first won the Australian Open in 2004 he earned $985,000, compared to when he won in 2018 and the prize had increased to AUD 4 million.[383]", "Upon winning the 2009 French Open and completing the career Grand Slam, Federer became the first individual male tennis player to grace the cover of Sports Illustrated since Andre Agassi in 1999.[384] He was also the first non-American player to appear on the cover of the magazine since Stefan Edberg in 1992.[385] Federer again made the cover of Sports Illustrated following his record-breaking 8th Wimbledon title and second Grand Slam of 2017, becoming the first male tennis player to be featured on the cover since himself in 2009.[385]", "Federer has been nicknamed the \"Federer Express\" (shortened to \"Fed Express\" or \"FedEx\"),[386][387][388] and the \"Swiss Maestro.\"[389][390] He has also been referred to as \"King Roger\" on occasion.[391]", "In 2003, he established the Roger Federer Foundation to help disadvantaged children and to promote their access to education and sport.[392][393][394]", "Since May 2004, citing his close ties with South Africa (his mother is South African) he has been supporting the South Africa-Swiss charity IMBEWU, which helps children better connect to sports as well as social and health awareness. In 2005, Federer visited South Africa to meet the children that had benefited from his support.[395][396][397] Also in 2005, he auctioned his racquet from his US Open championship to aid victims of Hurricane Katrina.[398]", "At the 2005 Pacific Life Open in Indian Wells, Federer arranged an exhibition involving several top players from the ATP and WTA tour called Rally for Relief. The proceeds went to the victims of the tsunami caused by the 2004 Indian Ocean earthquake. In December 2006, he visited Tamil Nadu, one of the areas in India most affected by the tsunami.[399] He was appointed a Goodwill Ambassador by UNICEF in April 2006 and has appeared in UNICEF public messages to raise public awareness of AIDS.[400][401]", "In response to the 2010 Haiti earthquake, Federer arranged a collaboration with fellow top tennis players for a special charity event during the 2010 Australian Open called \'Hit for Haiti\', in which proceeds went to Haiti earthquake victims.[402][403] He participated in a follow-up charity exhibition during the 2010 Indian Wells Masters, which raised $1 million.[404]", "The Nadal vs. Federer \"Match for Africa\" in 2010 in Zurich and Madrid raised more than $4 million for the Roger Federer Foundation and Fundación Rafa Nadal. In January 2011, Federer took part in an exhibition, Rally for Relief, to raise money for the victims of the Queensland floods.[405][406] In 2014, the \"Match for Africa 2\" between Federer and Stan Wawrinka, again in Zurich, raised £850,000 for education projects in Southern Africa.[407]", "In 2007, Swiss Post in Basel released a special edition stamp for Federer.[408] Three years later, in 2010, Federer was awarded a special edition stamp by Austria\'s Postal Service.[409]", "In 2011, on the Reputation Institute\'s study of the World\'s most respected, admired and trusted personalities, Federer ranked No. 2 just behind Nelson Mandela but ahead of Bill Gates, Steve Jobs, Oprah Winfrey and Bono.[410]", "In 2012, the city of Halle, in Germany, unveiled \"Roger-Federer-Allee\" in recognition of Federer\'s success on the grass at the Gerry Weber Open.[411] In 2016, the city of Biel, Switzerland, location of the national centre for Swiss Tennis where Federer trained as a junior, named the street in his honour as \"1 Allée Roger Federer\".[412]", "In July 2016, Federer ranked No. 1 in the list for the most recognizable people in Switzerland, surpassing personalities such as Albert Einstein and William Tell. In a poll of more than 9,000 people from 15 countries, Federer topped the list of most recognizable Swiss with 600 more votes than the country\'s second national hero, William Tell, who came up second. Federer got 916 votes, Tell got 316 and Einstein ranked third with 204. The other three in the first six were Henry Dunant, Jean-Jacques Rousseau and novel character Heidi.[413]", "In January 2017, Federer named the Most Marketable Sports Person for 2016 by researchers of London School of Marketing. Federer earned £49.2 million in endorsements and sponsorships.[414]", "On 24 November 2017, Federer received an honorary doctorate awarded to him by his home university, the University of Basel. He received the title in recognition for his role in increasing the international reputation of Basel and Switzerland, and also his engagement for children in Africa through his charitable foundation.[415]", "In December 2019, Federer became the first living person to be celebrated on Swiss coins. His face will be on the 20-franc coin and in May 2020, Swissmint issued a Federer 50-franc gold coin featuring a different design.[416]", "In December 2019, Federer was voted by GQ readers as the Most Stylish Man of the Decade (2010–2019). He was first in the list, ahead of Timothée Chalamet, LeBron James, Harry Styles, David Beckham, Justin Bieber, Kanye West, Ryan Gosling and others.[417]", "On 29 May 2020 Federer topped Forbes\' 2020 List of the World\'s Highest Paid Athletes with $106.3 million in total earnings from salary, winnings and endorsements. Federer appears every year on this list, inside the top-10 or top-5, but never on the top spot before. This year is the first time Roger Federer has ranked atop Forbes\'s annual list. He surpassed sports legends like, 2.Cristiano Ronaldo (football - $105m), 3. Lionel Messi (football - $104m), 4. Neymar (football - $95.5m), 5. LeBron James (basketball - $88.2m), 6. Stephen Curry (basketball - $74.4m), 7. Kevin Durant (basketball - $63.9m), 8. Tiger Woods (golf - $62.3m), 9. Kirk Cousins (american football - $60.5m), 10. Carson Wentz (american football - $59.1m), and many more great sports persons.[418]", "On 20 July 2020 Federer was featured by Swiss National Museum in a 100-part chronicle of Swiss history and culture.[419][420]", "Federer\'s versatility has been described by Jimmy Connors: \"In an era of specialists, you\'re either a clay court specialist, a grass court specialist, or a hard court specialist... or you\'re Roger Federer.\"[421]", "An elite athlete, Federer is an all-court, all-around player known for his speed, fluid style of play, and exceptional shot making. Federer mainly plays from the baseline but is also comfortable at the net, being one of the best volleyers in the game.[422] He has a powerful, accurate smash and very effectively performs rare elements of professional tennis, such as the backhand smash and skyhook, half-volley, jump smash (slam dunk) and an aggressive serve return known affectionately as SABR (Sneak Attack By Roger, a half-volley attack on an opponent\'s second serve). David Foster Wallace compared the brute force of Federer\'s forehand motion with that of \"a great liquid whip\",[423] while John McEnroe has referred to Federer\'s forehand as \"the greatest shot in our sport.\"[424] Federer is also known for his efficient, deceptively effortless movement around the court and excellent footwork, which enables him to run around shots directed to his backhand, usually considered his weaker wing, and instead hit a powerful and penetrating inside-out or inside-in forehand, one of his best shots. He also has great variety with his forehand, able to hit with topspin or pace (or both), thus opening up the court and going in to the forecourt for aggressive volleys.", "Federer plays with a single-handed backhand, which gives him great variety. He employs the slice, occasionally using it to lure his opponent to the net and deliver a passing shot. Federer can also fire topspin winners and possesses a \'flick\' backhand with which he can generate pace with his wrist; this is usually used to pass the opponent at the net.[423] He has averaged 90% of service games won throughout his career, oftentimes coming up victorious in clutch or pressure service games. His serve is difficult to read because he always uses a similar ball toss, regardless of what type of serve he is going to hit and where he aims to hit it, and turns his back to his opponents during his motion. He is often able to produce big serves on key points during a match. His first serve is typically around 200 km/h (125 mph);[425][426][427] however, he is capable of serving at 220 km/h (137 mph).[425][426] Federer is also accomplished at serve and volleying,[428] and employed this tactic frequently in his early career.[429][430]", "Later in his career, Federer added the drop shot to his arsenal and can perform a well-disguised one off both wings. He sometimes uses a between-the-legs shot, which is colloquially referred to as a \"tweener\" or \"hotdog\". His most notable use of the tweener was in the semifinals of the 2009 US Open against Novak Djokovic, bringing him triple match point.[431] Federer is one of the top players who employ successfully the \"squash shot\", when he gets pushed deep and wide on his forehand wing. Since Stefan Edberg joined his coaching team at the start of the 2014 season, Federer has played a more offensive game, attacking the net more often, and improved his volley shots.[432][433] In the lead-up to the 2015 US Open, Federer successfully added a new unique shot to his arsenal called SABR (Sneak Attack by Roger), in which he charges forward to receive the second serve and hits a return on the service line. The SABR is a unique shot that Federer owns, in the way that he manages to add enough power and placement into the shot, which makes it very difficult, or close to impossible for the opponent to reach it.[434] With the switch to a bigger 97 inch racket from 90 inches, Federer has gained easy power while relinquishing some control on his shots. The bigger racket has enabled easier serving and better defense on both wings with fewer shanks. However this has diminished control and power on his forehand, slice backhand and dropshot.[435] Since his comeback in 2017, Federer is noted for his improved backhand both down the line and cross court which was cited as the reason for his win against Nadal in the 2017 Australian Open Final and Indian Wells 4th round.", "Federer is also noted for his cool demeanour and emotional control on the court. In contrast to his early career, most of his professional game has been characterised by lack of outbursts or emotional frustration at errors, which gives him an advantage over less controlled opponents.[436][437][438] Federer declared:", "I don\'t get the anxiety during a match so much anymore. You know, to throw racquets, to toss balls out of the court, scream and stuff. I almost laugh [on the inside] about it a little bit today when an opponent does it. But that\'s something for me that\'s not a problem any more.[439]", "Federer plays with his signature Wilson Pro Staff RF97 Autograph racquet. It has a 97 square inch head, 16x19 string pattern, 366 gram strung weight, 340 gram swing weight, 68 RA stiffness, and 9 point head light balance.[440] Federer strings his racquets using Wilson Natural Gut 16 gauge for his main strings and Luxilon ALU Power Rough 17 gauge (polyester) for his cross strings. In an interview in November 2017, Federer stated his favorite stringing tension is 26.5 kilograms (58.4 lb) mains & 25 kilograms (55.1 lb) crosses.[441]", "As a junior player, Federer played with a Wilson Pro Staff 6.0 85 square inch head racquet. He switched to a bigger custom-built Wilson 90 square inch head racquet in 2003.[442][443] His grip size was 4+3⁄8 inches (L3).[444] When asked about string tensions, Federer stated \"this depends on how warm the days are and with what kind of balls I play and against who I play. So you can see – it depends on several factors and not just the surface; the feeling I have is most important.\"[445]", "Federer first signed with Nike footwear and apparel in 1994.[446] For the 2006 championships at Wimbledon, Nike designed a jacket emblazoned with a crest of three tennis racquets, symbolising the three Wimbledon Championships he had previously won, and which was updated the next year with four racquets after he won the Championship in 2006.[447] At Wimbledon 2008, and again in 2009, Nike continued this trend by making him a personalised cardigan that also had his own logo, an R and an F joined together,[448][449] which was originally designed by his wife, Mirka.[450]", "Federer\'s contract with Nike expired in March 2018, and he later signed a deal with Uniqlo.[451] It was reported that Uniqlo signed Federer for roughly $300 million for 10 years ($30 million per year), as opposed to Nike\'s previous deal with Federer, which was for roughly $10 million per year.[452] Since 2021, Federer has worn tennis shoes produced by On, a Swiss based athletic shoe and sports apparel manufacturer in which he became a shareholder in November 2019. A limited edition lifestyle shoe named “The Roger” was released by On in July 2020.[453]", "In May 2020 Federer became the first tennis player to reach the top of the Forbes \"World\'s Highest Paid Athletes\" list.[454][455] He is endorsed by Japanese clothing company Uniqlo[451] and Swiss companies Nationale Suisse [de; fr; nl], Credit Suisse, On, Rolex, Lindt, Sunrise, and Jura Elektroapparate.[456] In 2010, his endorsement by Mercedes-Benz China was extended into a global partnership deal.[457] His other sponsors include Gillette, Wilson, Barilla, and Moët & Chandon.[454][458][459] Previously, he was an ambassador for Nike, NetJets, Emmi AG,[460] and for Maurice Lacroix.[461]", "(W) Won; (F) finalist; (SF) semifinalist; (QF) quarterfinalist; (#R) rounds 4, 3, 2, 1; (RR) round-robin stage; (Q#) qualification round; (DNQ) did not qualify; (A) absent; (NH) not held. SR=strike rate (events won/competed)", "To avoid confusion and double counting, these charts are updated at the conclusion of a tournament or when the player\'s participation has ended.", "Current through the 2021 Wimbledon Championships.", "As of 2019 Federer holds the third highest number of Guinness World Records within one discipline, a total of 30, which include 18 performance based records.[474]"]
        jusText = JusText()
    }

    /// Test that initialization of the JusText module is done with all parameters as expected
    func testInitialization() throws {
        expect(self.jusText.lengthLow) == 70
        expect(self.jusText.lengthHigh) == 200
        expect(self.jusText.stopwordsLowBaseline) == 0.3
        expect(self.jusText.stopwordsHighBaseline) == 0.33
    }

    /// Test the language detection functionality
    func testLanguageDetection() throws {
        expect(self.jusText.getTextLanguage(text: "Roger Federer is the greatest of all time")) == NLLanguage.english
        expect(self.jusText.getTextLanguage(text: "Un homme mange du pain")) == NLLanguage.french
        expect(self.jusText.getTextLanguage(text: "Roger Federer est le meilleur joueur de tous les temps")) == NLLanguage.french
        expect(self.jusText.getTextLanguage(text: "רוג׳ר פדרר הוא השחקן הטוב ביותר בכל הזמנים")) == NLLanguage.hebrew
    }

    /// Test that block lengths are rated correctly
    func testRateLengths() throws {
        let rates = jusText.rateLength(of: self.testBlocks)
        expect(rates.count) == self.testBlocks.count
        expect(rates[0]) == JusText.Rates.low
        expect(rates[2]) == JusText.Rates.high
        expect(rates[11]) == JusText.Rates.medium
    }

    /// Test that block stopword densities are rated correctly
    func testRateStopwordDensity() throws {
        let rates = jusText.rateStopwordDensity(of: testBlocks, with: Array(repeating: NLLanguage.english, count: testBlocks.count))
        expect(rates.count) == testBlocks.count
        expect(rates[0]) == JusText.Rates.low
        expect(rates[3]) == JusText.Rates.high
        expect(rates[17]) == JusText.Rates.medium
    }

    /// Test that when no stopwords are available, no rates are returned for stopword density
    func testRateStopwordDensityUndeterminedLanguage () throws {
        let rates = jusText.rateStopwordDensity(of: testBlocks, with: Array(repeating: NLLanguage.undetermined, count: testBlocks.count))
        expect(rates) == Array(repeating: JusText.Rates.undefined, count: testBlocks.count)
    }

    /// Test that block classification is done correctly (individually and final classification)
    func testDetermineBlocks() throws {
        let lengthRates = jusText.rateLength(of: testBlocks)
        let stopwordRates = jusText.rateStopwordDensity(of: testBlocks, with: Array(repeating: NLLanguage.english, count: testBlocks.count))
        let initialBlockClasses = try jusText.determinePerBlock(blockLengths: lengthRates, blockStopWords: stopwordRates)
        expect(initialBlockClasses.count) == self.testBlocks.count
        expect(initialBlockClasses[0]) == JusText.BlockClasses.short
        expect(initialBlockClasses[2]) == JusText.BlockClasses.bad
        expect(initialBlockClasses[3]) == JusText.BlockClasses.good
        expect(initialBlockClasses[17]) == JusText.BlockClasses.nearGood
        let finalBlockClasses = jusText.determineAllBlocks(blockClasses: initialBlockClasses)
        expect(finalBlockClasses.count) == self.testBlocks.count
        expect(finalBlockClasses[0]) == JusText.BlockClasses.bad
        expect(finalBlockClasses[2]) == JusText.BlockClasses.bad
        expect(finalBlockClasses[3]) == JusText.BlockClasses.good
        expect(finalBlockClasses[11]) == JusText.BlockClasses.bad
        expect(finalBlockClasses[17]) == JusText.BlockClasses.good
        expect(finalBlockClasses.firstIndex(of:JusText.BlockClasses.nearGood)) == nil
        expect(finalBlockClasses.firstIndex(of:JusText.BlockClasses.short)) == nil
    }

    /// Test the entire String extraction process
    func testExtract() throws {
        let (text, language) = try jusText.extract(from: testBlocks)
        expect(language) == NLLanguage.english
        expect(text.hasPrefix("Federer has played in an era where he dominated men's tennis together with Rafael Nadal and Novak Djokovic")) == true
    }
}
